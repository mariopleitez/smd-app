__d(function(g,r,_i,a,m,e,d){
/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */
var t,n;t=this,n=function(){'use strict';const{entries:t,setPrototypeOf:n,isFrozen:o,getPrototypeOf:i,getOwnPropertyDescriptor:l}=Object;let{freeze:c,seal:s,create:u}=Object,{apply:p,construct:f}='undefined'!=typeof Reflect&&Reflect;c||(c=function(t){return t}),s||(s=function(t){return t}),p||(p=function(t,n){for(var o=arguments.length,i=new Array(o>2?o-2:0),l=2;l<o;l++)i[l-2]=arguments[l];return t.apply(n,i)}),f||(f=function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return new t(...o)});const h=L(Array.prototype.forEach),T=L(Array.prototype.lastIndexOf),y=L(Array.prototype.pop),E=L(Array.prototype.push),A=L(Array.prototype.splice),_=L(String.prototype.toLowerCase),b=L(String.prototype.toString),S=L(String.prototype.match),N=L(String.prototype.replace),D=L(String.prototype.indexOf),R=L(String.prototype.trim),w=L(Object.prototype.hasOwnProperty),C=L(RegExp.prototype.test),O=(v=TypeError,function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return f(v,n)});var v;function L(t){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var o=arguments.length,i=new Array(o>1?o-1:0),l=1;l<o;l++)i[l-1]=arguments[l];return p(t,n,i)}}function k(t,i){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;n&&n(t,null);let c=i.length;for(;c--;){let n=i[c];if('string'==typeof n){const t=l(n);t!==n&&(o(i)||(i[c]=t),n=t)}t[n]=!0}return t}function x(t){for(let n=0;n<t.length;n++)w(t,n)||(t[n]=null);return t}function I(n){const o=u(null);for(const[i,l]of t(n))w(n,i)&&(Array.isArray(l)?o[i]=x(l):l&&'object'==typeof l&&l.constructor===Object?o[i]=I(l):o[i]=l);return o}function M(t,n){for(;null!==t;){const o=l(t,n);if(o){if(o.get)return L(o.get);if('function'==typeof o.value)return L(o.value)}t=i(t)}return function(){return null}}const U=c(['a','abbr','acronym','address','area','article','aside','audio','b','bdi','bdo','big','blink','blockquote','body','br','button','canvas','caption','center','cite','code','col','colgroup','content','data','datalist','dd','decorator','del','details','dfn','dialog','dir','div','dl','dt','element','em','fieldset','figcaption','figure','font','footer','form','h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i','img','input','ins','kbd','label','legend','li','main','map','mark','marquee','menu','menuitem','meter','nav','nobr','ol','optgroup','option','output','p','picture','pre','progress','q','rp','rt','ruby','s','samp','search','section','select','shadow','slot','small','source','spacer','span','strike','strong','style','sub','summary','sup','table','tbody','td','template','textarea','tfoot','th','thead','time','tr','track','tt','u','ul','var','video','wbr']),z=c(['svg','a','altglyph','altglyphdef','altglyphitem','animatecolor','animatemotion','animatetransform','circle','clippath','defs','desc','ellipse','enterkeyhint','exportparts','filter','font','g','glyph','glyphref','hkern','image','inputmode','line','lineargradient','marker','mask','metadata','mpath','part','path','pattern','polygon','polyline','radialgradient','rect','stop','style','switch','symbol','text','textpath','title','tref','tspan','view','vkern']),P=c(['feBlend','feColorMatrix','feComponentTransfer','feComposite','feConvolveMatrix','feDiffuseLighting','feDisplacementMap','feDistantLight','feDropShadow','feFlood','feFuncA','feFuncB','feFuncG','feFuncR','feGaussianBlur','feImage','feMerge','feMergeNode','feMorphology','feOffset','fePointLight','feSpecularLighting','feSpotLight','feTile','feTurbulence']),F=c(['animate','color-profile','cursor','discard','font-face','font-face-format','font-face-name','font-face-src','font-face-uri','foreignobject','hatch','hatchpath','mesh','meshgradient','meshpatch','meshrow','missing-glyph','script','set','solidcolor','unknown','use']),H=c(['math','menclose','merror','mfenced','mfrac','mglyph','mi','mlabeledtr','mmultiscripts','mn','mo','mover','mpadded','mphantom','mroot','mrow','ms','mspace','msqrt','mstyle','msub','msup','msubsup','mtable','mtd','mtext','mtr','munder','munderover','mprescripts']),B=c(['maction','maligngroup','malignmark','mlongdiv','mscarries','mscarry','msgroup','mstack','msline','msrow','semantics','annotation','annotation-xml','mprescripts','none']),G=c(['#text']),W=c(['accept','action','align','alt','autocapitalize','autocomplete','autopictureinpicture','autoplay','background','bgcolor','border','capture','cellpadding','cellspacing','checked','cite','class','clear','color','cols','colspan','controls','controlslist','coords','crossorigin','datetime','decoding','default','dir','disabled','disablepictureinpicture','disableremoteplayback','download','draggable','enctype','enterkeyhint','exportparts','face','for','headers','height','hidden','high','href','hreflang','id','inert','inputmode','integrity','ismap','kind','label','lang','list','loading','loop','low','max','maxlength','media','method','min','minlength','multiple','muted','name','nonce','noshade','novalidate','nowrap','open','optimum','part','pattern','placeholder','playsinline','popover','popovertarget','popovertargetaction','poster','preload','pubdate','radiogroup','readonly','rel','required','rev','reversed','role','rows','rowspan','spellcheck','scope','selected','shape','size','sizes','slot','span','srclang','start','src','srcset','step','style','summary','tabindex','title','translate','type','usemap','valign','value','width','wrap','xmlns','slot']),Y=c(['accent-height','accumulate','additive','alignment-baseline','amplitude','ascent','attributename','attributetype','azimuth','basefrequency','baseline-shift','begin','bias','by','class','clip','clippathunits','clip-path','clip-rule','color','color-interpolation','color-interpolation-filters','color-profile','color-rendering','cx','cy','d','dx','dy','diffuseconstant','direction','display','divisor','dur','edgemode','elevation','end','exponent','fill','fill-opacity','fill-rule','filter','filterunits','flood-color','flood-opacity','font-family','font-size','font-size-adjust','font-stretch','font-style','font-variant','font-weight','fx','fy','g1','g2','glyph-name','glyphref','gradientunits','gradienttransform','height','href','id','image-rendering','in','in2','intercept','k','k1','k2','k3','k4','kerning','keypoints','keysplines','keytimes','lang','lengthadjust','letter-spacing','kernelmatrix','kernelunitlength','lighting-color','local','marker-end','marker-mid','marker-start','markerheight','markerunits','markerwidth','maskcontentunits','maskunits','max','mask','mask-type','media','method','mode','min','name','numoctaves','offset','operator','opacity','order','orient','orientation','origin','overflow','paint-order','path','pathlength','patterncontentunits','patterntransform','patternunits','points','preservealpha','preserveaspectratio','primitiveunits','r','rx','ry','radius','refx','refy','repeatcount','repeatdur','restart','result','rotate','scale','seed','shape-rendering','slope','specularconstant','specularexponent','spreadmethod','startoffset','stddeviation','stitchtiles','stop-color','stop-opacity','stroke-dasharray','stroke-dashoffset','stroke-linecap','stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke','stroke-width','style','surfacescale','systemlanguage','tabindex','tablevalues','targetx','targety','transform','transform-origin','text-anchor','text-decoration','text-rendering','textlength','type','u1','u2','unicode','values','viewbox','visibility','version','vert-adv-y','vert-origin-x','vert-origin-y','width','word-spacing','wrap','writing-mode','xchannelselector','ychannelselector','x','x1','x2','xmlns','y','y1','y2','z','zoomandpan']),j=c(['accent','accentunder','align','bevelled','close','columnsalign','columnlines','columnspan','denomalign','depth','dir','display','displaystyle','encoding','fence','frame','height','href','id','largeop','length','linethickness','lspace','lquote','mathbackground','mathcolor','mathsize','mathvariant','maxsize','minsize','movablelimits','notation','numalign','open','rowalign','rowlines','rowspacing','rowspan','rspace','rquote','scriptlevel','scriptminsize','scriptsizemultiplier','selection','separator','separators','stretchy','subscriptshift','supscriptshift','symmetric','voffset','width','xmlns']),X=c(['xlink:href','xml:id','xlink:title','xml:space','xmlns:xlink']),q=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$=s(/<%[\w\W]*|[\w\W]*%>/gm),K=s(/\$\{[\w\W]*/gm),V=s(/^data-[\-\w.\u00B7-\uFFFF]+$/),Z=s(/^aria-[\-\w]+$/),J=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Q=s(/^(?:\w+script|data):/i),ee=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),te=s(/^html$/i),ne=s(/^[a-z][.\w]*(-[.\w]+)+$/i);var oe=Object.freeze({__proto__:null,ARIA_ATTR:Z,ATTR_WHITESPACE:ee,CUSTOM_ELEMENT:ne,DATA_ATTR:V,DOCTYPE_NAME:te,ERB_EXPR:$,IS_ALLOWED_URI:J,IS_SCRIPT_OR_DATA:Q,MUSTACHE_EXPR:q,TMPLIT_EXPR:K});const re=1,ie=3,ae=7,le=8,ce=9,se=function(){return window},ue=function(t,n){if('object'!=typeof t||'function'!=typeof t.createPolicy)return null;let o=null;const i='data-tt-policy-suffix';n&&n.hasAttribute(i)&&(o=n.getAttribute(i));const l='dompurify'+(o?'#'+o:'');try{return t.createPolicy(l,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn('TrustedTypes policy '+l+' could not be created.'),null}};var me=(function n(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();const i=t=>n(t);if(i.version='3.3.1',i.removed=[],!o||!o.document||o.document.nodeType!==ce||!o.Element)return i.isSupported=!1,i;let{document:l}=o;const s=l,p=s.currentScript,{DocumentFragment:f,HTMLTemplateElement:v,Node:L,Element:x,NodeFilter:q,NamedNodeMap:$=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:K,DOMParser:V,trustedTypes:Z}=o,Q=x.prototype,ee=M(Q,'cloneNode'),ne=M(Q,'remove'),me=M(Q,'nextSibling'),pe=M(Q,'childNodes'),fe=M(Q,'parentNode');if('function'==typeof v){const t=l.createElement('template');t.content&&t.content.ownerDocument&&(l=t.content.ownerDocument)}let de,he='';const{implementation:ge,createNodeIterator:Te,createDocumentFragment:ye,getElementsByTagName:Ee}=l,{importNode:Ae}=s;let _e={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};i.isSupported='function'==typeof t&&'function'==typeof fe&&ge&&void 0!==ge.createHTMLDocument;const{MUSTACHE_EXPR:be,ERB_EXPR:Se,TMPLIT_EXPR:Ne,DATA_ATTR:De,ARIA_ATTR:Re,IS_SCRIPT_OR_DATA:we,ATTR_WHITESPACE:Ce,CUSTOM_ELEMENT:Oe}=oe;let{IS_ALLOWED_URI:ve}=oe,Le=null;const ke=k({},[...U,...z,...P,...H,...G]);let xe=null;const Ie=k({},[...W,...Y,...j,...X]);let Me=Object.seal(u(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ue=null,ze=null;const Pe=Object.seal(u(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Fe=!0,He=!0,Be=!1,Ge=!0,We=!1,Ye=!0,je=!1,Xe=!1,qe=!1,$e=!1,Ke=!1,Ve=!1,Ze=!0,Je=!1,Qe=!0,et=!1,tt={},nt=null;const ot=k({},['annotation-xml','audio','colgroup','desc','foreignobject','head','iframe','math','mi','mn','mo','ms','mtext','noembed','noframes','noscript','plaintext','script','style','svg','template','thead','title','video','xmp']);let rt=null;const it=k({},['audio','video','img','source','image','track']);let at=null;const lt=k({},['alt','class','for','id','label','name','pattern','placeholder','role','summary','title','value','style','xmlns']),ct='http://www.w3.org/1998/Math/MathML',st='http://www.w3.org/2000/svg',ut='http://www.w3.org/1999/xhtml';let mt=ut,pt=!1,ft=null;const dt=k({},[ct,st,ut],b);let ht=k({},['mi','mo','mn','ms','mtext']),gt=k({},['annotation-xml']);const Tt=k({},['title','style','font','a','script']);let yt=null;const Et=['application/xhtml+xml','text/html'];let At=null,_t=null;const bt=l.createElement('form'),St=function(t){return t instanceof RegExp||t instanceof Function},Nt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!_t||_t!==t){if(t&&'object'==typeof t||(t={}),t=I(t),yt=-1===Et.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,At='application/xhtml+xml'===yt?b:_,Le=w(t,'ALLOWED_TAGS')?k({},t.ALLOWED_TAGS,At):ke,xe=w(t,'ALLOWED_ATTR')?k({},t.ALLOWED_ATTR,At):Ie,ft=w(t,'ALLOWED_NAMESPACES')?k({},t.ALLOWED_NAMESPACES,b):dt,at=w(t,'ADD_URI_SAFE_ATTR')?k(I(lt),t.ADD_URI_SAFE_ATTR,At):lt,rt=w(t,'ADD_DATA_URI_TAGS')?k(I(it),t.ADD_DATA_URI_TAGS,At):it,nt=w(t,'FORBID_CONTENTS')?k({},t.FORBID_CONTENTS,At):ot,Ue=w(t,'FORBID_TAGS')?k({},t.FORBID_TAGS,At):I({}),ze=w(t,'FORBID_ATTR')?k({},t.FORBID_ATTR,At):I({}),tt=!!w(t,'USE_PROFILES')&&t.USE_PROFILES,Fe=!1!==t.ALLOW_ARIA_ATTR,He=!1!==t.ALLOW_DATA_ATTR,Be=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Ge=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,We=t.SAFE_FOR_TEMPLATES||!1,Ye=!1!==t.SAFE_FOR_XML,je=t.WHOLE_DOCUMENT||!1,$e=t.RETURN_DOM||!1,Ke=t.RETURN_DOM_FRAGMENT||!1,Ve=t.RETURN_TRUSTED_TYPE||!1,qe=t.FORCE_BODY||!1,Ze=!1!==t.SANITIZE_DOM,Je=t.SANITIZE_NAMED_PROPS||!1,Qe=!1!==t.KEEP_CONTENT,et=t.IN_PLACE||!1,ve=t.ALLOWED_URI_REGEXP||J,mt=t.NAMESPACE||ut,ht=t.MATHML_TEXT_INTEGRATION_POINTS||ht,gt=t.HTML_INTEGRATION_POINTS||gt,Me=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&St(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Me.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&St(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Me.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&'boolean'==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Me.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),We&&(He=!1),Ke&&($e=!0),tt&&(Le=k({},G),xe=[],!0===tt.html&&(k(Le,U),k(xe,W)),!0===tt.svg&&(k(Le,z),k(xe,Y),k(xe,X)),!0===tt.svgFilters&&(k(Le,P),k(xe,Y),k(xe,X)),!0===tt.mathMl&&(k(Le,H),k(xe,j),k(xe,X))),t.ADD_TAGS&&('function'==typeof t.ADD_TAGS?Pe.tagCheck=t.ADD_TAGS:(Le===ke&&(Le=I(Le)),k(Le,t.ADD_TAGS,At))),t.ADD_ATTR&&('function'==typeof t.ADD_ATTR?Pe.attributeCheck=t.ADD_ATTR:(xe===Ie&&(xe=I(xe)),k(xe,t.ADD_ATTR,At))),t.ADD_URI_SAFE_ATTR&&k(at,t.ADD_URI_SAFE_ATTR,At),t.FORBID_CONTENTS&&(nt===ot&&(nt=I(nt)),k(nt,t.FORBID_CONTENTS,At)),t.ADD_FORBID_CONTENTS&&(nt===ot&&(nt=I(nt)),k(nt,t.ADD_FORBID_CONTENTS,At)),Qe&&(Le['#text']=!0),je&&k(Le,['html','head','body']),Le.table&&(k(Le,['tbody']),delete Ue.tbody),t.TRUSTED_TYPES_POLICY){if('function'!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw O('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if('function'!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw O('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');de=t.TRUSTED_TYPES_POLICY,he=de.createHTML('')}else void 0===de&&(de=ue(Z,p)),null!==de&&'string'==typeof he&&(he=de.createHTML(''));c&&c(t),_t=t}},Dt=k({},[...z,...P,...F]),Rt=k({},[...H,...B]),wt=function(t){let n=fe(t);n&&n.tagName||(n={namespaceURI:mt,tagName:'template'});const o=_(t.tagName),i=_(n.tagName);return!!ft[t.namespaceURI]&&(t.namespaceURI===st?n.namespaceURI===ut?'svg'===o:n.namespaceURI===ct?'svg'===o&&('annotation-xml'===i||ht[i]):Boolean(Dt[o]):t.namespaceURI===ct?n.namespaceURI===ut?'math'===o:n.namespaceURI===st?'math'===o&&gt[i]:Boolean(Rt[o]):t.namespaceURI===ut?!(n.namespaceURI===st&&!gt[i])&&!(n.namespaceURI===ct&&!ht[i])&&!Rt[o]&&(Tt[o]||!Dt[o]):!('application/xhtml+xml'!==yt||!ft[t.namespaceURI]))},Ct=function(t){E(i.removed,{element:t});try{fe(t).removeChild(t)}catch(n){ne(t)}},Ot=function(t,n){try{E(i.removed,{attribute:n.getAttributeNode(t),from:n})}catch(t){E(i.removed,{attribute:null,from:n})}if(n.removeAttribute(t),'is'===t)if($e||Ke)try{Ct(n)}catch(t){}else try{n.setAttribute(t,'')}catch(t){}},vt=function(t){let n=null,o=null;if(qe)t='<remove></remove>'+t;else{const n=S(t,/^[\r\n\t ]+/);o=n&&n[0]}'application/xhtml+xml'===yt&&mt===ut&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+'</body></html>');const i=de?de.createHTML(t):t;if(mt===ut)try{n=(new V).parseFromString(i,yt)}catch(t){}if(!n||!n.documentElement){n=ge.createDocument(mt,'template',null);try{n.documentElement.innerHTML=pt?he:i}catch(t){}}const c=n.body||n.documentElement;return t&&o&&c.insertBefore(l.createTextNode(o),c.childNodes[0]||null),mt===ut?Ee.call(n,je?'html':'body')[0]:je?n.documentElement:c},Lt=function(t){return Te.call(t.ownerDocument||t,t,q.SHOW_ELEMENT|q.SHOW_COMMENT|q.SHOW_TEXT|q.SHOW_PROCESSING_INSTRUCTION|q.SHOW_CDATA_SECTION,null)},kt=function(t){return t instanceof K&&('string'!=typeof t.nodeName||'string'!=typeof t.textContent||'function'!=typeof t.removeChild||!(t.attributes instanceof $)||'function'!=typeof t.removeAttribute||'function'!=typeof t.setAttribute||'string'!=typeof t.namespaceURI||'function'!=typeof t.insertBefore||'function'!=typeof t.hasChildNodes)},xt=function(t){return'function'==typeof L&&t instanceof L};function It(t,n,o){h(t,t=>{t.call(i,n,o,_t)})}const Mt=function(t){let n=null;if(It(_e.beforeSanitizeElements,t,null),kt(t))return Ct(t),!0;const o=At(t.nodeName);if(It(_e.uponSanitizeElement,t,{tagName:o,allowedTags:Le}),Ye&&t.hasChildNodes()&&!xt(t.firstElementChild)&&C(/<[/\w!]/g,t.innerHTML)&&C(/<[/\w!]/g,t.textContent))return Ct(t),!0;if(t.nodeType===ae)return Ct(t),!0;if(Ye&&t.nodeType===le&&C(/<[/\w]/g,t.data))return Ct(t),!0;if(!(Pe.tagCheck instanceof Function&&Pe.tagCheck(o))&&(!Le[o]||Ue[o])){if(!Ue[o]&&zt(o)){if(Me.tagNameCheck instanceof RegExp&&C(Me.tagNameCheck,o))return!1;if(Me.tagNameCheck instanceof Function&&Me.tagNameCheck(o))return!1}if(Qe&&!nt[o]){const n=fe(t)||t.parentNode,o=pe(t)||t.childNodes;if(o&&n)for(let i=o.length-1;i>=0;--i){const l=ee(o[i],!0);l.__removalCount=(t.__removalCount||0)+1,n.insertBefore(l,me(t))}}return Ct(t),!0}return t instanceof x&&!wt(t)?(Ct(t),!0):'noscript'!==o&&'noembed'!==o&&'noframes'!==o||!C(/<\/no(script|embed|frames)/i,t.innerHTML)?(We&&t.nodeType===ie&&(n=t.textContent,h([be,Se,Ne],t=>{n=N(n,t,' ')}),t.textContent!==n&&(E(i.removed,{element:t.cloneNode()}),t.textContent=n)),It(_e.afterSanitizeElements,t,null),!1):(Ct(t),!0)},Ut=function(t,n,o){if(Ze&&('id'===n||'name'===n)&&(o in l||o in bt))return!1;if(He&&!ze[n]&&C(De,n));else if(Fe&&C(Re,n));else if(Pe.attributeCheck instanceof Function&&Pe.attributeCheck(n,t));else if(!xe[n]||ze[n]){if(!(zt(t)&&(Me.tagNameCheck instanceof RegExp&&C(Me.tagNameCheck,t)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(t))&&(Me.attributeNameCheck instanceof RegExp&&C(Me.attributeNameCheck,n)||Me.attributeNameCheck instanceof Function&&Me.attributeNameCheck(n,t))||'is'===n&&Me.allowCustomizedBuiltInElements&&(Me.tagNameCheck instanceof RegExp&&C(Me.tagNameCheck,o)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(o))))return!1}else if(at[n]);else if(C(ve,N(o,Ce,'')));else if('src'!==n&&'xlink:href'!==n&&'href'!==n||'script'===t||0!==D(o,'data:')||!rt[t])if(Be&&!C(we,N(o,Ce,'')));else if(o)return!1;return!0},zt=function(t){return'annotation-xml'!==t&&S(t,Oe)},Pt=function(t){It(_e.beforeSanitizeAttributes,t,null);const{attributes:n}=t;if(!n||kt(t))return;const o={attrName:'',attrValue:'',keepAttr:!0,allowedAttributes:xe,forceKeepAttr:void 0};let l=n.length;for(;l--;){const c=n[l],{name:s,namespaceURI:u,value:p}=c,f=At(s),T=p;let E='value'===s?T:R(T);if(o.attrName=f,o.attrValue=E,o.keepAttr=!0,o.forceKeepAttr=void 0,It(_e.uponSanitizeAttribute,t,o),E=o.attrValue,!Je||'id'!==f&&'name'!==f||(Ot(s,t),E="user-content-"+E),Ye&&C(/((--!?|])>)|<\/(style|title|textarea)/i,E)){Ot(s,t);continue}if('attributename'===f&&S(E,'href')){Ot(s,t);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){Ot(s,t);continue}if(!Ge&&C(/\/>/i,E)){Ot(s,t);continue}We&&h([be,Se,Ne],t=>{E=N(E,t,' ')});const A=At(t.nodeName);if(Ut(A,f,E)){if(de&&'object'==typeof Z&&'function'==typeof Z.getAttributeType)if(u);else switch(Z.getAttributeType(A,f)){case'TrustedHTML':E=de.createHTML(E);break;case'TrustedScriptURL':E=de.createScriptURL(E)}if(E!==T)try{u?t.setAttributeNS(u,s,E):t.setAttribute(s,E),kt(t)?Ct(t):y(i.removed)}catch(n){Ot(s,t)}}else Ot(s,t)}It(_e.afterSanitizeAttributes,t,null)},Ft=function t(n){let o=null;const i=Lt(n);for(It(_e.beforeSanitizeShadowDOM,n,null);o=i.nextNode();)It(_e.uponSanitizeShadowNode,o,null),Mt(o),Pt(o),o.content instanceof f&&t(o.content);It(_e.afterSanitizeShadowDOM,n,null)};return i.sanitize=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,l=null,c=null,u=null;if(pt=!t,pt&&(t='\x3c!--\x3e'),'string'!=typeof t&&!xt(t)){if('function'!=typeof t.toString)throw O('toString is not a function');if('string'!=typeof(t=t.toString()))throw O('dirty is not a string, aborting')}if(!i.isSupported)return t;if(Xe||Nt(n),i.removed=[],'string'==typeof t&&(et=!1),et){if(t.nodeName){const n=At(t.nodeName);if(!Le[n]||Ue[n])throw O('root node is forbidden and cannot be sanitized in-place')}}else if(t instanceof L)o=vt('\x3c!----\x3e'),l=o.ownerDocument.importNode(t,!0),l.nodeType===re&&'BODY'===l.nodeName||'HTML'===l.nodeName?o=l:o.appendChild(l);else{if(!$e&&!We&&!je&&-1===t.indexOf('<'))return de&&Ve?de.createHTML(t):t;if(o=vt(t),!o)return $e?null:Ve?he:''}o&&qe&&Ct(o.firstChild);const p=Lt(et?t:o);for(;c=p.nextNode();)Mt(c),Pt(c),c.content instanceof f&&Ft(c.content);if(et)return t;if($e){if(Ke)for(u=ye.call(o.ownerDocument);o.firstChild;)u.appendChild(o.firstChild);else u=o;return(xe.shadowroot||xe.shadowrootmode)&&(u=Ae.call(s,u,!0)),u}let T=je?o.outerHTML:o.innerHTML;return je&&Le['!doctype']&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&C(te,o.ownerDocument.doctype.name)&&(T='<!DOCTYPE '+o.ownerDocument.doctype.name+'>\n'+T),We&&h([be,Se,Ne],t=>{T=N(T,t,' ')}),de&&Ve?de.createHTML(T):T},i.setConfig=function(){Nt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Xe=!0},i.clearConfig=function(){_t=null,Xe=!1},i.isValidAttribute=function(t,n,o){_t||Nt({});const i=At(t),l=At(n);return Ut(i,l,o)},i.addHook=function(t,n){'function'==typeof n&&E(_e[t],n)},i.removeHook=function(t,n){if(void 0!==n){const o=T(_e[t],n);return-1===o?void 0:A(_e[t],o,1)[0]}return y(_e[t])},i.removeHooks=function(t){_e[t]=[]},i.removeAllHooks=function(){_e={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},i})();return me},'object'==typeof e&&void 0!==m?m.exports=n():'function'==typeof define&&define.amd?define(n):(t='undefined'!=typeof globalThis?globalThis:t||self).DOMPurify=n()},487,[]);